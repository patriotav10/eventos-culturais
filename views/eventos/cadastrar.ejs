<%- include("../partials/menu") %>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><%= evento && evento._id ? "Atualizar Evento" : "Cadastro do Evento" %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <div class="container mt-5">
    <h2 class="mb-4"><%= evento && evento._id ? "Atualizar Evento" : "Cadastro do Evento" %></h2>

    <% if (sucesso) { %>
      <div class="alert alert-success">
        Evento cadastrado com sucesso!
      </div>
    <% } %>

    <% if (atualizado) { %>
      <div class="alert alert-success">
        Evento atualizado com sucesso!
      </div>
    <% } %>

    <form action="/eventos/cadastrar" method="POST">
      <% if (evento && evento._id) { %>
        <input type="hidden" name="_id" value="<%= evento._id %>">
      <% } %>

      <div class="mb-3">
        <label for="nome" class="form-label">Nome</label>
        <input type="text" class="form-control" id="nome" name="nome" value="<%= evento?.nome || '' %>" required>
      </div>

      <div class="mb-3">
        <label for="local" class="form-label">Local</label>
        <input type="text" class="form-control" id="local" name="local" value="<%= evento?.local || '' %>" required>
      </div>

      <div class="mb-3">
        <label for="data" class="form-label">Data</label>
        <input type="date" class="form-control" id="data" name="data" value="<%= evento?.data ? new Date(evento.data).toISOString().split('T')[0] : '' %>" required>
      </div>

      <button type="submit" class="btn btn-success">
        <%= evento && evento._id ? "Atualizar" : "Cadastrar" %>
      </button>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

